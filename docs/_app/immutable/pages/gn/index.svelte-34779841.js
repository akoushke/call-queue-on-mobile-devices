import{S as ge,i as Ce,s as ze,l as we,g as S,d as i,e as n,t as V,k as A,c,a as d,h as x,m as D,b as u,f as _e,K as ee,L as Oe,J as t,M as ae,E as G,N as Be,v as Le,O as pe}from"../../chunks/index-e1f22567.js";import{H as se,v as Me,g as te,l as Ue,S as Je,M as He}from"../../chunks/store-cd1c2197.js";import"../../chunks/index-b324aac7.js";function Pe(m){let a;function f(r,v){return r[1]?Ye:r[0]?Ke:je}let l=f(m),s=l(m);return{c(){s.c(),a=we()},l(r){s.l(r),a=we()},m(r,v){s.m(r,v),S(r,a,v)},p(r,v){l===(l=f(r))&&s?s.p(r,v):(s.d(1),s=l(r),s&&(s.c(),s.m(a.parentNode,a)))},d(r){s.d(r),r&&i(a)}}}function je(m){let a,f,l,s,r,v,h;return{c(){a=n("div"),f=V("Looking for Assistance?"),l=A(),s=n("button"),r=V("Request Assistance"),this.h()},l(e){a=c(e,"DIV",{class:!0});var o=d(a);f=x(o,"Looking for Assistance?"),o.forEach(i),l=D(e),s=c(e,"BUTTON",{class:!0});var I=d(s);r=x(I,"Request Assistance"),I.forEach(i),this.h()},h(){u(a,"class","title is-size-4"),u(s,"class","button is-size-5 mt-6 is-primary is-centered")},m(e,o){S(e,a,o),t(a,f),S(e,l,o),S(e,s,o),t(s,r),v||(h=ae(s,"click",m[6]),v=!0)},p:G,d(e){e&&i(a),e&&i(l),e&&i(s),v=!1,h()}}}function Ke(m){let a,f,l,s,r,v,h;return{c(){a=n("div"),f=V("Your request has been queued. A virtual nurse will reach out shortly."),l=A(),s=n("button"),r=V("Cancel Request"),this.h()},l(e){a=c(e,"DIV",{class:!0});var o=d(a);f=x(o,"Your request has been queued. A virtual nurse will reach out shortly."),o.forEach(i),l=D(e),s=c(e,"BUTTON",{class:!0});var I=d(s);r=x(I,"Cancel Request"),I.forEach(i),this.h()},h(){u(a,"class","is-size-5 has-text-centered"),u(s,"class","button is-size-5 mt-6 is-danger is-centered")},m(e,o){S(e,a,o),t(a,f),S(e,l,o),S(e,s,o),t(s,r),v||(h=ae(s,"click",m[5]),v=!0)},p:G,d(e){e&&i(a),e&&i(l),e&&i(s),v=!1,h()}}}function Ye(m){let a,f,l,s,r,v,h;return{c(){a=n("div"),f=V("Virtual nurse is now available!"),l=A(),s=n("button"),r=V("Join Support Session"),this.h()},l(e){a=c(e,"DIV",{class:!0});var o=d(a);f=x(o,"Virtual nurse is now available!"),o.forEach(i),l=D(e),s=c(e,"BUTTON",{class:!0});var I=d(s);r=x(I,"Join Support Session"),I.forEach(i),this.h()},h(){u(a,"class","title is-size-4 mb-4"),u(s,"class","button is-size-5 mt-6 is-primary is-centered")},m(e,o){S(e,a,o),t(a,f),S(e,l,o),S(e,s,o),t(s,r),v||(h=ae(s,"click",m[7]),v=!0)},p:G,d(e){e&&i(a),e&&i(l),e&&i(s),v=!1,h()}}}function Fe(m){let a,f,l,s,r,v,h,e,o,I,_,M,X,b,E,q,N,P,U,ie,J,le,re,R,g,H,oe,j,ne,ce,T,C,K,de,Y,ue,fe,w,z,F,ve,B,me,he,be,p=!m[4]&&Pe(m);return{c(){a=n("section"),f=n("div"),l=n("div"),s=n("div"),r=V("Nurse Support Request"),v=A(),h=n("div"),e=n("div"),o=n("span"),I=A(),_=n("iframe"),X=A(),p&&p.c(),b=A(),E=n("div"),q=n("nav"),N=n("div"),P=n("span"),U=n("i"),ie=A(),J=n("div"),le=V("Dashboard"),re=A(),R=n("div"),g=n("span"),H=n("i"),oe=A(),j=n("div"),ne=V("Patients"),ce=A(),T=n("div"),C=n("span"),K=n("i"),de=A(),Y=n("div"),ue=V("Contacts"),fe=A(),w=n("div"),z=n("span"),F=n("i"),ve=A(),B=n("div"),me=V("Alerts"),this.h()},l(y){a=c(y,"SECTION",{class:!0});var k=d(a);f=c(k,"DIV",{class:!0});var Ee=d(f);l=c(Ee,"DIV",{class:!0});var Ie=d(l);s=c(Ie,"DIV",{class:!0});var qe=d(s);r=x(qe,"Nurse Support Request"),qe.forEach(i),Ie.forEach(i),Ee.forEach(i),v=D(k),h=c(k,"DIV",{class:!0});var Ae=d(h);e=c(Ae,"DIV",{class:!0});var L=d(e);o=c(L,"SPAN",{class:!0,style:!0}),d(o).forEach(i),I=D(L),_=c(L,"IFRAME",{title:!0,src:!0,allow:!0,style:!0}),d(_).forEach(i),X=D(L),p&&p.l(L),L.forEach(i),Ae.forEach(i),b=D(k),E=c(k,"DIV",{class:!0});var De=d(E);q=c(De,"NAV",{class:!0});var O=d(q);N=c(O,"DIV",{class:!0});var Q=d(N);P=c(Q,"SPAN",{class:!0});var ke=d(P);U=c(ke,"I",{class:!0}),d(U).forEach(i),ke.forEach(i),ie=D(Q),J=c(Q,"DIV",{});var ye=d(J);le=x(ye,"Dashboard"),ye.forEach(i),Q.forEach(i),re=D(O),R=c(O,"DIV",{class:!0});var W=d(R);g=c(W,"SPAN",{class:!0});var Ve=d(g);H=c(Ve,"I",{class:!0}),d(H).forEach(i),Ve.forEach(i),oe=D(W),j=c(W,"DIV",{});var xe=d(j);ne=x(xe,"Patients"),xe.forEach(i),W.forEach(i),ce=D(O),T=c(O,"DIV",{class:!0});var Z=d(T);C=c(Z,"SPAN",{class:!0});var Se=d(C);K=c(Se,"I",{class:!0}),d(K).forEach(i),Se.forEach(i),de=D(Z),Y=c(Z,"DIV",{});var Ne=d(Y);ue=x(Ne,"Contacts"),Ne.forEach(i),Z.forEach(i),fe=D(O),w=c(O,"DIV",{class:!0});var $=d(w);z=c($,"SPAN",{class:!0});var Re=d(z);F=c(Re,"I",{class:!0}),d(F).forEach(i),Re.forEach(i),ve=D($),B=c($,"DIV",{class:!0});var Te=d(B);me=x(Te,"Alerts"),Te.forEach(i),$.forEach(i),O.forEach(i),De.forEach(i),k.forEach(i),this.h()},h(){u(s,"class","title has-text-white is-4"),u(l,"class","box has-background-info has-text-centered"),u(f,"class","hero-head "),u(o,"class","bulma-loader-mixin"),_e(o,"position","absolute"),ee(o,"is-hidden",!m[2]),u(_,"title","meeting"),Oe(_.src,M=m[3])||u(_,"src",M),u(_,"allow","camera;microphone"),_e(_,"width","100%"),_e(_,"height","40rem"),ee(_,"is-hidden",!m[4]),u(e,"class","container is-flex is-justify-content-center is-align-items-center is-flex-direction-column"),u(h,"class","hero-body p-4 has-background-white"),u(U,"class","mdi mdi-36px mdi-view-dashboard "),u(P,"class","icon has-text-grey mb-2 "),u(N,"class","level-item has-text-centered is-flex is-flex-direction-column"),u(H,"class","mdi mdi-36px mdi-account "),u(g,"class","icon has-text-grey mb-2"),u(R,"class","level-item has-text-centered is-flex is-flex-direction-column"),u(K,"class","mdi mdi-36px mdi-contacts "),u(C,"class","icon has-text-grey mb-2 "),u(T,"class","level-item has-text-centered is-flex is-flex-direction-column"),u(F,"class","mdi mdi-36px mdi-bell "),u(z,"class","icon has-text-info mb-2 "),u(B,"class","has-text-info"),u(w,"class","level-item has-text-centered is-flex is-flex-direction-column"),u(q,"class","level is-mobile"),u(E,"class","hero-foot mt-4 mb-2"),u(a,"class","hero is-fullheight")},m(y,k){S(y,a,k),t(a,f),t(f,l),t(l,s),t(s,r),t(a,v),t(a,h),t(h,e),t(e,o),t(e,I),t(e,_),t(e,X),p&&p.m(e,null),t(a,b),t(a,E),t(E,q),t(q,N),t(N,P),t(P,U),t(N,ie),t(N,J),t(J,le),t(q,re),t(q,R),t(R,g),t(g,H),t(R,oe),t(R,j),t(j,ne),t(q,ce),t(q,T),t(T,C),t(C,K),t(T,de),t(T,Y),t(Y,ue),t(q,fe),t(q,w),t(w,z),t(z,F),t(w,ve),t(w,B),t(B,me),he||(be=ae(_,"load",m[8]),he=!0)},p(y,[k]){k&4&&ee(o,"is-hidden",!y[2]),k&8&&!Oe(_.src,M=y[3])&&u(_,"src",M),k&16&&ee(_,"is-hidden",!y[4]),y[4]?p&&(p.d(1),p=null):p?p.p(y,k):(p=Pe(y),p.c(),p.m(e,null))},i:G,o:G,d(y){y&&i(a),p&&p.d(),he=!1,be()}}}function Ge(m,a,f){let l;Be(m,te,b=>f(10,l=b));let s=!1,r=!1,v=!1,h="",e=!1,o;const I=()=>{se.emit("message",{command:"remove",set:"queue",data:l}),pe(te,l=void 0,l),f(0,s=!1)},_=()=>{l||pe(te,l=Me(),l);const b={room:He,command:"append",set:"queue",data:l};o.on("message",E=>{console.log("DATA",E),E.room===l&&(E.data.event==="meeting-link"&&(f(1,r=!0),f(3,h=`${E.data.payload}&embedsize=small&sessionId=${l}`)),E.data.event==="members-update"&&console.log("MEMBERS UPDATE",E.data.payload))}),o.emit("message",b),f(0,s=!0)},M=()=>{f(4,e=!0)};return Le(()=>{se.on("message-response",b=>{if(b.id==="initial-queue-request"){b.data=b.data?b.data:[];const E=b.data.some(q=>q.value===l);pe(te,l=E?l:Me(),l),o=Ue(Je,{query:`room=${l}`})}}),se.on("connect",()=>{const b={command:"list",set:"queue",id:"initial-queue-request"};se.emit("message",b)})}),[s,r,v,h,e,I,_,M,()=>{f(2,v=!1)}]}class Ze extends ge{constructor(a){super(),Ce(this,a,Ge,Fe,ze,{})}}export{Ze as default};
