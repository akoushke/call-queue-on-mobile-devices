import{S as Oe,i as ze,s as Pe,l as we,g as S,d as i,e as n,t as k,k as I,c,a as d,h as x,m as q,b as u,f as pe,K as se,L as ge,J as t,M as ae,E as W,N as Le,v as Be,O as _e}from"../../chunks/index-e1f22567.js";import{H as M,v as Ce,g as te,M as He}from"../../chunks/store-00f0b9f0.js";import"../../chunks/index-b324aac7.js";function Me(v){let a;function o(r,m){return r[1]?je:r[0]?Ue:Je}let l=o(v),s=l(v);return{c(){s.c(),a=we()},l(r){s.l(r),a=we()},m(r,m){s.m(r,m),S(r,a,m)},p(r,m){l===(l=o(r))&&s?s.p(r,m):(s.d(1),s=l(r),s&&(s.c(),s.m(a.parentNode,a)))},d(r){s.d(r),r&&i(a)}}}function Je(v){let a,o,l,s,r,m,h;return{c(){a=n("div"),o=k("Looking for Assistance?"),l=I(),s=n("button"),r=k("Request Assistance"),this.h()},l(e){a=c(e,"DIV",{class:!0});var f=d(a);o=x(f,"Looking for Assistance?"),f.forEach(i),l=q(e),s=c(e,"BUTTON",{class:!0});var E=d(s);r=x(E,"Request Assistance"),E.forEach(i),this.h()},h(){u(a,"class","title is-size-4"),u(s,"class","button is-size-5 mt-6 is-primary is-centered")},m(e,f){S(e,a,f),t(a,o),S(e,l,f),S(e,s,f),t(s,r),m||(h=ae(s,"click",v[6]),m=!0)},p:W,d(e){e&&i(a),e&&i(l),e&&i(s),m=!1,h()}}}function Ue(v){let a,o,l,s,r,m,h;return{c(){a=n("div"),o=k("Your request has been queued. A virtual nurse will reach out shortly."),l=I(),s=n("button"),r=k("Cancel Request"),this.h()},l(e){a=c(e,"DIV",{class:!0});var f=d(a);o=x(f,"Your request has been queued. A virtual nurse will reach out shortly."),f.forEach(i),l=q(e),s=c(e,"BUTTON",{class:!0});var E=d(s);r=x(E,"Cancel Request"),E.forEach(i),this.h()},h(){u(a,"class","is-size-5 has-text-centered"),u(s,"class","button is-size-5 mt-6 is-danger is-centered")},m(e,f){S(e,a,f),t(a,o),S(e,l,f),S(e,s,f),t(s,r),m||(h=ae(s,"click",v[5]),m=!0)},p:W,d(e){e&&i(a),e&&i(l),e&&i(s),m=!1,h()}}}function je(v){let a,o,l,s,r,m,h;return{c(){a=n("div"),o=k("Virtual nurse is now available!"),l=I(),s=n("button"),r=k("Join Support Session"),this.h()},l(e){a=c(e,"DIV",{class:!0});var f=d(a);o=x(f,"Virtual nurse is now available!"),f.forEach(i),l=q(e),s=c(e,"BUTTON",{class:!0});var E=d(s);r=x(E,"Join Support Session"),E.forEach(i),this.h()},h(){u(a,"class","title is-size-4 mb-4"),u(s,"class","button is-size-5 mt-6 is-primary is-centered")},m(e,f){S(e,a,f),t(a,o),S(e,l,f),S(e,s,f),t(s,r),m||(h=ae(s,"click",v[7]),m=!0)},p:W,d(e){e&&i(a),e&&i(l),e&&i(s),m=!1,h()}}}function Ge(v){let a,o,l,s,r,m,h,e,f,E,p,J,b,D,V,y,R,O,U,ie,j,le,re,T,z,G,oe,K,ne,ce,w,P,Y,de,F,ue,fe,g,L,Q,me,B,ve,he,be,_=!v[4]&&Me(v);return{c(){a=n("section"),o=n("div"),l=n("div"),s=n("div"),r=k("Nurse Support Request"),m=I(),h=n("div"),e=n("div"),f=n("span"),E=I(),p=n("iframe"),b=I(),_&&_.c(),D=I(),V=n("div"),y=n("nav"),R=n("div"),O=n("span"),U=n("i"),ie=I(),j=n("div"),le=k("Dashboard"),re=I(),T=n("div"),z=n("span"),G=n("i"),oe=I(),K=n("div"),ne=k("Patients"),ce=I(),w=n("div"),P=n("span"),Y=n("i"),de=I(),F=n("div"),ue=k("Contacts"),fe=I(),g=n("div"),L=n("span"),Q=n("i"),me=I(),B=n("div"),ve=k("Alerts"),this.h()},l(N){a=c(N,"SECTION",{class:!0});var A=d(a);o=c(A,"DIV",{class:!0});var Ee=d(o);l=c(Ee,"DIV",{class:!0});var Ie=d(l);s=c(Ie,"DIV",{class:!0});var qe=d(s);r=x(qe,"Nurse Support Request"),qe.forEach(i),Ie.forEach(i),Ee.forEach(i),m=q(A),h=c(A,"DIV",{class:!0});var De=d(h);e=c(De,"DIV",{class:!0});var H=d(e);f=c(H,"SPAN",{class:!0,style:!0}),d(f).forEach(i),E=q(H),p=c(H,"IFRAME",{title:!0,src:!0,allow:!0,style:!0}),d(p).forEach(i),b=q(H),_&&_.l(H),H.forEach(i),De.forEach(i),D=q(A),V=c(A,"DIV",{class:!0});var Ae=d(V);y=c(Ae,"NAV",{class:!0});var C=d(y);R=c(C,"DIV",{class:!0});var X=d(R);O=c(X,"SPAN",{class:!0});var ye=d(O);U=c(ye,"I",{class:!0}),d(U).forEach(i),ye.forEach(i),ie=q(X),j=c(X,"DIV",{});var Ne=d(j);le=x(Ne,"Dashboard"),Ne.forEach(i),X.forEach(i),re=q(C),T=c(C,"DIV",{class:!0});var Z=d(T);z=c(Z,"SPAN",{class:!0});var Ve=d(z);G=c(Ve,"I",{class:!0}),d(G).forEach(i),Ve.forEach(i),oe=q(Z),K=c(Z,"DIV",{});var ke=d(K);ne=x(ke,"Patients"),ke.forEach(i),Z.forEach(i),ce=q(C),w=c(C,"DIV",{class:!0});var $=d(w);P=c($,"SPAN",{class:!0});var xe=d(P);Y=c(xe,"I",{class:!0}),d(Y).forEach(i),xe.forEach(i),de=q($),F=c($,"DIV",{});var Se=d(F);ue=x(Se,"Contacts"),Se.forEach(i),$.forEach(i),fe=q(C),g=c(C,"DIV",{class:!0});var ee=d(g);L=c(ee,"SPAN",{class:!0});var Re=d(L);Q=c(Re,"I",{class:!0}),d(Q).forEach(i),Re.forEach(i),me=q(ee),B=c(ee,"DIV",{class:!0});var Te=d(B);ve=x(Te,"Alerts"),Te.forEach(i),ee.forEach(i),C.forEach(i),Ae.forEach(i),A.forEach(i),this.h()},h(){u(s,"class","title has-text-white is-4"),u(l,"class","box has-background-info has-text-centered"),u(o,"class","hero-head "),u(f,"class","bulma-loader-mixin"),pe(f,"position","absolute"),se(f,"is-hidden",!v[2]),u(p,"title","meeting"),ge(p.src,J=v[3])||u(p,"src",J),u(p,"allow","camera;microphone"),pe(p,"width","100%"),pe(p,"height","40rem"),se(p,"is-hidden",!v[4]),u(e,"class","container is-flex is-justify-content-center is-align-items-center is-flex-direction-column"),u(h,"class","hero-body p-4 has-background-white"),u(U,"class","mdi mdi-36px mdi-view-dashboard "),u(O,"class","icon has-text-grey mb-2 "),u(R,"class","level-item has-text-centered is-flex is-flex-direction-column"),u(G,"class","mdi mdi-36px mdi-account "),u(z,"class","icon has-text-grey mb-2"),u(T,"class","level-item has-text-centered is-flex is-flex-direction-column"),u(Y,"class","mdi mdi-36px mdi-contacts "),u(P,"class","icon has-text-grey mb-2 "),u(w,"class","level-item has-text-centered is-flex is-flex-direction-column"),u(Q,"class","mdi mdi-36px mdi-bell "),u(L,"class","icon has-text-info mb-2 "),u(B,"class","has-text-info"),u(g,"class","level-item has-text-centered is-flex is-flex-direction-column"),u(y,"class","level is-mobile"),u(V,"class","hero-foot mt-4 mb-2"),u(a,"class","hero is-fullheight")},m(N,A){S(N,a,A),t(a,o),t(o,l),t(l,s),t(s,r),t(a,m),t(a,h),t(h,e),t(e,f),t(e,E),t(e,p),t(e,b),_&&_.m(e,null),t(a,D),t(a,V),t(V,y),t(y,R),t(R,O),t(O,U),t(R,ie),t(R,j),t(j,le),t(y,re),t(y,T),t(T,z),t(z,G),t(T,oe),t(T,K),t(K,ne),t(y,ce),t(y,w),t(w,P),t(P,Y),t(w,de),t(w,F),t(F,ue),t(y,fe),t(y,g),t(g,L),t(L,Q),t(g,me),t(g,B),t(B,ve),he||(be=ae(p,"load",v[8]),he=!0)},p(N,[A]){A&4&&se(f,"is-hidden",!N[2]),A&8&&!ge(p.src,J=N[3])&&u(p,"src",J),A&16&&se(p,"is-hidden",!N[4]),N[4]?_&&(_.d(1),_=null):_?_.p(N,A):(_=Me(N),_.c(),_.m(e,null))},i:W,o:W,d(N){N&&i(a),_&&_.d(),he=!1,be()}}}function Ke(v,a,o){let l;Le(v,te,b=>o(9,l=b));let s=!1,r=!1,m=!1,h="",e=!1;const f=()=>{M.emit("message",{command:"remove",set:"queue",data:l}),_e(te,l=void 0,l),o(0,s=!1)},E=()=>{l||_e(te,l=Ce(),l);const b={room:He,command:"append",set:"queue",data:l};M.on("message",D=>{D.room===l&&(D.data.event==="meeting-link"&&(o(1,r=!0),o(3,h=`${D.data.payload}&autoDial=true&embedSize=desktop&sessionId=${l}`)),D.data.event==="members-update"&&D.data.payload.updated.some(V=>V.isSelf&&!V.isInMeeting)&&(o(4,e=!1),o(1,r=!1),o(0,s=!1),o(2,m=!1)),D.data.event==="meeting-state-change"&&console.log("MEETING STATE CHANGE",D.data.payload))}),M.emit("message",b),o(0,s=!0)},p=()=>{o(4,e=!0)};return Be(()=>{M.on("message-response",b=>{if(b.id==="initial-queue-request"){b.data=b.data?b.data:[];const D=b.data.some(V=>V.value===l);_e(te,l=D?l:Ce(),l),M.emit("join",l)}}),M.on("connect",()=>{const b={command:"list",set:"queue",id:"initial-queue-request"};M.emit("message",b)})}),[s,r,m,h,e,f,E,p,()=>{o(2,m=!1)}]}class We extends Oe{constructor(a){super(),ze(this,a,Ke,Ge,Pe,{})}}export{We as default};
